import{b as $}from"./background-Bo4Ew-EA.js";import{L as B,u as L,_ as U}from"./AppLayout-C9x6lSUK.js";import{g as c,s as T,o as i,f as g,p as J,n as y,A as _,a as t,e as A,H as G,I as K,F as I,j as R,t as h,h as b,l as W,u as q,c as w,w as k,i as D,Q as X,d as Y,b as M,B as E}from"./app-CsOBiv3L.js";import{_ as Z}from"./Alert-CCx8ty-D.js";import{_ as tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-BuEJ4M-s.js";import"./Footer-DBLmdsMa.js";const et={__name:"StepsToBuy",setup(l){const m=c(!1);return T(()=>{const u=new IntersectionObserver(n=>{n.forEach(e=>{e.isIntersecting&&(m.value=!0)})},{threshold:.1}),a=document.querySelector(".participate-section");a&&u.observe(a)}),(u,a)=>(i(),g("div",{class:y(["w-full py-8 relative overflow-hidden bg-gradient-to-br from-white/80 to-[#ECF39E]/20 group hover:from-gray-800/5 hover:to-[#31572C]/10 transition-all duration-700 backdrop-blur-md participate-section",{"animate-fade-in-up":m.value}])},a[0]||(a[0]=[J('<div class="absolute right-0 top-0 opacity-5 transform rotate-12 translate-x-0 group-hover:opacity-20 group-hover:rotate-6 group-hover:scale-110 group-hover:-translate-x-10 transition-all duration-700 ease-in-out"><img src="'+$+'" alt="Background Logo" class="w-96 h-96 object-contain"></div><div class="absolute inset-0 w-full bg-gradient-to-br from-transparent to-transparent group-hover:from-gray-900/10 group-hover:to-transparent transition-all duration-700"></div><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative"><h2 class="text-4xl font-serif text-center mb-16 text-[#31572C] transform transition-all duration-500 group-hover:scale-105 group-hover:text-[#4F772D]"> ¿Cómo Participar? </h2><div class="grid grid-cols-1 md:grid-cols-3 gap-12"><div class="group/card transform transition-all duration-500 hover:-translate-y-3 hover:rotate-1"><div class="flex flex-col items-center"><div class="bg-gradient-to-br from-[#4F772D]/10 to-[#90A955]/30 rounded-2xl p-6 mb-6 shadow-xl"><svg class="h-12 w-12 text-[#31572C]" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><h3 class="text-2xl font-serif mb-4 text-[#31572C]">1. Busca</h3><p class="text-center text-[#4F772D] px-6"> Explora las rifas disponibles y encuentra los mejores premios. </p></div></div><div class="group/card transform transition-all duration-500 hover:-translate-y-3 hover:rotate-1"><div class="flex flex-col items-center"><div class="bg-gradient-to-br from-[#4F772D]/10 to-[#90A955]/30 rounded-2xl p-6 mb-6 shadow-xl group-hover/card:shadow-2xl group-hover/card:from-[#4F772D]/20 group-hover/card:to-[#90A955]/40 transition-all duration-700"><svg class="h-12 w-12 text-[#31572C]" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"></path></svg></div><h3 class="text-2xl font-serif mb-4 text-[#31572C] group-hover/card:text-[#4F772D] transition-colors duration-300"> 2. Selecciona </h3><p class="text-center text-[#4F772D] px-6 opacity-90 group-hover/card:opacity-100"> Elige tus números favoritos. ¡Cada número es una oportunidad! </p></div></div><div class="group/card transform transition-all duration-500 hover:-translate-y-3 hover:rotate-1"><div class="flex flex-col items-center"><div class="bg-gradient-to-br from-[#4F772D]/10 to-[#90A955]/30 rounded-2xl p-6 mb-6 shadow-xl group-hover/card:shadow-2xl group-hover/card:from-[#4F772D]/20 group-hover/card:to-[#90A955]/40 transition-all duration-700"><svg class="h-12 w-12 text-[#31572C]" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h3 class="text-2xl font-serif mb-4 text-[#31572C] group-hover/card:text-[#4F772D] transition-colors duration-300"> 3. Espera </h3><p class="text-center text-[#4F772D] px-6 opacity-90 group-hover/card:opacity-100"> Aguarda al día del sorteo. ¡La suerte puede estar de tu lado! </p></div></div></div></div>',3)]),2))}},ot={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8"},st={class:"flex flex-col md:flex-row gap-4 mb-6"},rt={class:"flex-1 relative"},at=["placeholder"],nt={class:"flex justify-center mb-8"},it={class:"flex space-x-2 bg-white/50 backdrop-blur-sm p-1 rounded-xl shadow-md border border-[#4F772D]/20"},lt=["onClick"],dt={__name:"SearchFilters",props:{activeTab:String,tabStates:Array,getStatusTranslation:Function},emits:["update:searchQuery","update:searchType","tab-change"],setup(l,{emit:m}){const u=l,a=m,n=c(""),e=c("title");_(n,d=>{a("update:searchQuery",d)}),_(e,d=>{a("update:searchType",d)});const r=d=>{a("tab-change",d)};return(d,f)=>(i(),g("div",ot,[t("div",st,[t("div",rt,[A(t("input",{"onUpdate:modelValue":f[0]||(f[0]=p=>n.value=p),type:"text",placeholder:e.value==="title"?"Buscar por nombre...":"Buscar por premio...",class:"w-full px-4 py-3 rounded-xl border border-[#4F772D]/20 focus:ring-2 focus:ring-[#4F772D]/50 focus:border-[#4F772D] shadow-sm bg-white/80 backdrop-blur-sm"},null,8,at),[[G,n.value]])]),A(t("select",{"onUpdate:modelValue":f[1]||(f[1]=p=>e.value=p),class:"px-8 py-3 rounded-xl border border-[#4F772D]/20 focus:ring-2 focus:ring-[#4F772D]/50 focus:border-[#4F772D] shadow-sm bg-white/80 backdrop-blur-sm text-[#31572C]"},f[2]||(f[2]=[t("option",{value:"title"},"Buscar por nombre",-1),t("option",{value:"prize"},"Buscar por premio",-1)]),512),[[K,e.value]])]),t("div",nt,[t("nav",it,[(i(!0),g(I,null,R(l.tabStates,p=>(i(),g("button",{key:p,onClick:F=>r(p),class:y(["px-6 py-2.5 rounded-lg font-medium text-sm transition-all duration-200",[l.activeTab===p?"bg-[#4F772D] text-white shadow-sm":"text-[#31572C] hover:bg-[#4F772D]/10"]])},h(u.getStatusTranslation(p)),11,lt))),128))])])]))}},ct={class:"py-12 raffles-section"},ut={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},pt={key:0,class:"bg-white/80 backdrop-blur-sm p-8 rounded-xl shadow-xl border border-[#4F772D]/20 text-center"},vt={class:"text-[#31572C] text-lg"},gt={class:"relative overflow-hidden"},ht=["src","alt"],mt={key:1,class:"w-full h-48 bg-gradient-to-br from-[#4F772D]/10 to-[#90A955]/30 flex items-center justify-center"},ft={class:"p-6 space-y-4"},xt={class:"text-xl font-bold text-[#31572C] group-hover/card:text-[#4F772D] transition-colors duration-300"},bt={class:"bg-gradient-to-br from-[#4F772D]/10 to-[#90A955]/30 p-4 rounded-xl transition-all duration-300 group-hover/card:from-[#4F772D]/20 group-hover/card:to-[#90A955]/40"},wt={class:"flex items-center"},kt={class:"text-lg font-bold text-[#31572C]"},yt={class:"grid grid-cols-2 gap-4"},_t={class:"bg-gradient-to-br from-[#4F772D]/5 to-[#90A955]/10 p-4 rounded-xl transition-all duration-300 group-hover/card:from-[#4F772D]/10 group-hover/card:to-[#90A955]/20"},Dt={class:"text-lg font-bold text-[#31572C]"},Ft={class:"bg-gradient-to-br from-[#4F772D]/5 to-[#90A955]/10 p-4 rounded-xl transition-all duration-300 group-hover/card:from-[#4F772D]/10 group-hover/card:to-[#90A955]/20"},Ct={class:"text-lg font-bold text-[#31572C]"},St={class:"space-y-2 pt-2"},Mt={class:"flex items-center text-sm"},Bt={class:"text-[#4F772D]"},Tt={class:"flex justify-end items-center gap-4 pt-4"},zt={__name:"RafflesList",props:{raffles:{type:Array,required:!0},formatDate:{type:Function,required:!0},getStatusTranslation:{type:Function,required:!0},getStatusColor:{type:Function,required:!0},activeTab:{type:String,required:!0}},setup(l){const{hasRole:m}=L(),u=l,a=c(!1);return T(()=>{const n=new IntersectionObserver(r=>{r.forEach(d=>{d.isIntersecting&&(a.value=!0)})},{threshold:.1}),e=document.querySelector(".raffles-section");e&&n.observe(e)}),(n,e)=>(i(),g("div",ct,[t("div",ut,[u.raffles.length===0?(i(),g("div",pt,[e[0]||(e[0]=t("svg",{class:"mx-auto h-12 w-12 text-[#4F772D] mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 14h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("p",vt,h(l.activeTab==="ongoing"?"No hay rifas en juego":l.activeTab==="pending"?"No hay rifas pendientes":"No hay rifas finalizadas"),1)])):b("",!0),t("div",{class:y(["grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 raffles-section",{"is-visible":a.value}])},[(i(!0),g(I,null,R(u.raffles,(r,d)=>(i(),g("div",{key:r.id,class:"bg-white/80 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden border border-[#4F772D]/20 transition-transform duration-300 ease-out hover:-translate-y-4 hover:shadow-2xl group",style:W({"--index":d})},[t("div",gt,[r.url_image?(i(),g("img",{key:0,src:r.url_image,alt:r.title,class:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"},null,8,ht)):(i(),g("div",mt,e[1]||(e[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 text-[#4F772D]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})],-1)]))),t("span",{class:y([l.getStatusColor(r.status),"absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold shadow-md backdrop-blur-sm"])},h(l.getStatusTranslation(r.status)),3)]),t("div",ft,[t("h3",xt,h(r.title),1),t("div",bt,[t("div",wt,[e[3]||(e[3]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-[#4F772D] mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),t("div",null,[e[2]||(e[2]=t("p",{class:"text-sm text-[#4F772D] font-medium"},"Premio",-1)),t("p",kt,h(r.prize),1)])])]),t("div",yt,[t("div",_t,[e[4]||(e[4]=t("div",{class:"flex items-center mb-1"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-[#4F772D] mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})]),t("p",{class:"text-sm text-[#4F772D]"},"Boletos")],-1)),t("p",Dt,h(r.tickets_sold)+"/"+h(r.total_tickets),1)]),t("div",Ft,[e[5]||(e[5]=t("div",{class:"flex items-center mb-1"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-[#4F772D] mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("p",{class:"text-sm text-[#4F772D]"},"Precio")],-1)),t("p",Ct,"$"+h(r.price_tickets),1)])]),t("div",St,[t("div",Mt,[e[6]||(e[6]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-[#4F772D] mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t("span",Bt,"Juega: "+h(l.formatDate(r.end_date)),1)])]),t("div",Tt,[q(m)(["admin","organizador"])?(i(),w(B,{key:0,href:n.route("raffles.edit",r.id),class:"flex items-center px-4 py-2 bg-[#4F772D]/10 text-[#31572C] rounded-lg hover:bg-[#4F772D]/20 transition-all duration-300"},{default:k(()=>e[7]||(e[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),D(" Editar ")])),_:2},1032,["href"])):b("",!0),r.status==="ongoing"?(i(),w(B,{key:1,href:n.route("tickets.create",{raffle_id:r.id}),class:"flex items-center px-6 py-2 bg-[#4F772D] text-white rounded-lg hover:bg-[#31572C] transition-all duration-300"},{default:k(()=>e[8]||(e[8]=[D(" Comprar ")])),_:2},1032,["href"])):b("",!0)])])],4))),128))],2)])]))}},jt={class:"flex justify-between items-center"},Vt={__name:"indexRaffle",setup(l){const{hasRole:m}=L(),u=X(),a=u.props.raffles,n=c("ongoing"),e=c(!1),r=c(""),d=["ongoing","pending","finished"],f=o=>{if(!o)return"Sin fecha";const s=new Date(o);return s.setMinutes(s.getMinutes()+s.getTimezoneOffset()),s.toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"})},p=o=>{const s=new Date,v=new Date(o.start_date),x=new Date(o.end_date);return s<v?"pending":s>x?"finished":"ongoing"},F=c(""),z=c("title"),H=Y(()=>a?a.filter(o=>{const s=o.status===n.value,v=F.value.toLowerCase(),x=z.value==="title"?o.title.toLowerCase().includes(v):o.prize.toLowerCase().includes(v);return s&&x}).sort((o,s)=>new Date(s.created_at)-new Date(o.created_at)):[]);_(()=>u.props.raffles,o=>{o&&E.get(route("raffles.index"),{},{preserveState:!0,preserveScroll:!0,only:["raffles"]})}),_(a,()=>{a==null||a.forEach(o=>{const s=p(o);o.status!==s&&E.put(route("raffles.update",o.id),{...o,status:s})})},{deep:!0});const j=o=>({ongoing:"En Juego",pending:"Pendiente",finished:"Finalizado"})[o]||o,N=o=>({ongoing:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",finished:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",O=o=>{n.value=o},P=c(!1),Q=c(!1);return T(()=>{const o={threshold:.1},s=new IntersectionObserver(C=>{C.forEach(S=>{S.isIntersecting&&(P.value=!0)})},o),v=new IntersectionObserver(C=>{C.forEach(S=>{S.isIntersecting&&(Q.value=!0)})},o),x=document.querySelector(".participate-section"),V=document.querySelector(".raffles-section");x&&s.observe(x),V&&v.observe(V)}),(o,s)=>(i(),w(U,{title:"Rifas"},{header:k(()=>[t("div",jt,[s[3]||(s[3]=t("h2",{class:"font-semibold text-2xl text-[#31572C] leading-tight flex items-center gap-3"},[t("img",{src:$,alt:"Logo",class:"w-8 h-8 object-contain"}),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})]),D(" Rifas más Montañeras ")],-1)),q(m)(["admin","organizador"])?(i(),w(B,{key:0,href:o.route("raffles.create"),class:"inline-flex items-center px-6 py-3 bg-white/90 text-[#31572C] rounded-xl font-bold text-sm hover:bg-[#ECF39E] transform hover:scale-105 transition-all duration-200 shadow-xl"},{default:k(()=>s[2]||(s[2]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),D(" Crear Rifa ")])),_:1},8,["href"])):b("",!0)])]),default:k(()=>[e.value?(i(),w(Z,{key:0,message:r.value,type:"Éxito"},null,8,["message"])):b("",!0),M(et),M(dt,{"active-tab":n.value,"tab-states":d,"get-status-translation":j,"onUpdate:searchQuery":s[0]||(s[0]=v=>F.value=v),"onUpdate:searchType":s[1]||(s[1]=v=>z.value=v),onTabChange:O},null,8,["active-tab"]),M(zt,{raffles:H.value,"format-date":f,"get-status-translation":j,"get-status-color":N,"active-tab":n.value},null,8,["raffles","active-tab"])]),_:1}))}},Ht=tt(Vt,[["__scopeId","data-v-fd44bc29"]]);export{Ht as default};
