import{Q as k,d as g,T as E,c as v,w as u,o as p,a as l,b as a,g as w,f as $,i as S,u as t,l as x,E as U,D,e as R,h as T,F as j,t as z}from"./app-C9Y4_UYl.js";import{_ as F,a as q}from"./AppLayout-C3rK1TvN.js";import{_ as i}from"./InputLabel-Crxm-Zxo.js";import{_ as b,a as d}from"./TextInput-vh2BdyE3.js";import{_ as B}from"./Alert-D6W754U8.js";import{_ as M}from"./PrimaryButton-DtJoJnYB.js";import{_ as y}from"./DateInput-CBp8_A_Q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"flex justify-between"},C={class:"py-12"},L={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},O={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},A={class:"w-1/3"},I={class:"w-1/3"},J={class:"w-1/3"},P={class:"w-1/3"},Q={class:"w-1/3"},G=["value"],H={class:"w-1/3"},K={class:"flex justify-end mt-6"},re={__name:"editRaffle",setup(W){const r=k().props.raffle,m=g(!1),f=g(""),c=g(""),_=n=>n?new Date(n).toISOString().split("T")[0]:"",e=E({title:r.title,description:r.description,start_date:_(r.start_date),end_date:_(r.end_date),status:r.status,url_image:r.url_image}),V=[{value:"pending",label:"Pendiente"},{value:"ongoing",label:"En Juego"},{value:"finished",label:"Finalizado"}],h=()=>{e.put(route("raffles.update",r.id),{preserveScroll:!0,onSuccess:()=>{f.value="Rifa actualizada correctamente",c.value="success",m.value=!0,setTimeout(()=>{window.location.href=route("raffles.index")},2e3)},onError:()=>{f.value="Error al actualizar la rifa",c.value="error",m.value=!0}})};return(n,s)=>(p(),v(F,{title:"Editar Rifa"},{header:u(()=>[l("div",N,[s[7]||(s[7]=l("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Editar Rifa ",-1)),a(q,{href:n.route("raffles.index"),class:"px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-700"},{default:u(()=>s[6]||(s[6]=[w(" Volver ")])),_:1},8,["href"])])]),default:u(()=>[m.value?(p(),v(B,{key:0,message:f.value,type:c.value},null,8,["message","type"])):$("",!0),l("div",C,[l("div",L,[l("div",O,[s[9]||(s[9]=l("h2",{class:"text-2xl font-semibold text-gray-800 leading-tight py-6 text-center"}," Escoja los campos que desea editar ",-1)),l("form",{onSubmit:S(h,["prevent"]),class:"space-y-6 flex flex-col items-center"},[l("div",A,[a(i,{for:"title",value:"Título"}),a(b,{id:"title",modelValue:t(e).title,"onUpdate:modelValue":s[0]||(s[0]=o=>t(e).title=o),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),a(d,{message:t(e).errors.title,class:"mt-2"},null,8,["message"])]),l("div",I,[a(i,{for:"description",value:"Descripción"}),x(l("textarea",{id:"description","onUpdate:modelValue":s[1]||(s[1]=o=>t(e).description=o),rows:"1",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm resize-none"},null,512),[[U,t(e).description]]),a(d,{message:t(e).errors.description,class:"mt-2"},null,8,["message"])]),l("div",J,[a(i,{for:"start_date",value:"Fecha de inicio"}),a(y,{id:"start_date",modelValue:t(e).start_date,"onUpdate:modelValue":s[2]||(s[2]=o=>t(e).start_date=o),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),a(d,{message:t(e).errors.start_date,class:"mt-2"},null,8,["message"])]),l("div",P,[a(i,{for:"end_date",value:"Fecha de fin"}),a(y,{id:"end_date",modelValue:t(e).end_date,"onUpdate:modelValue":s[3]||(s[3]=o=>t(e).end_date=o),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),a(d,{message:t(e).errors.end_date,class:"mt-2"},null,8,["message"])]),l("div",Q,[a(i,{for:"status",value:"Estado"}),x(l("select",{id:"status","onUpdate:modelValue":s[4]||(s[4]=o=>t(e).status=o),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[(p(),R(j,null,T(V,o=>l("option",{key:o.value,value:o.value},z(o.label),9,G)),64))],512),[[D,t(e).status]]),a(d,{message:t(e).errors.status,class:"mt-2"},null,8,["message"])]),l("div",H,[a(i,{for:"url_image",value:"URL de la imagen"}),a(b,{id:"url_image",modelValue:t(e).url_image,"onUpdate:modelValue":s[5]||(s[5]=o=>t(e).url_image=o),type:"url",class:"mt-1 block w-full",placeholder:"https://ejemplo.com/imagen.jpg"},null,8,["modelValue"]),a(d,{message:t(e).errors.url_image,class:"mt-2"},null,8,["message"])]),l("div",K,[a(M,{type:"submit",disabled:t(e).processing},{default:u(()=>s[8]||(s[8]=[w(" Actualizar Rifa ")])),_:1},8,["disabled"])])],32)])])])]),_:1}))}};export{re as default};
