import{Q as T,d,k as N,x as f,c as m,w as u,o as r,a as e,b as y,g as _,f as k,l as b,E,D as R,e as i,h as M,F as C,t as n,y as B,n as z}from"./app-C9Y4_UYl.js";import{_ as $,a as x}from"./AppLayout-C3rK1TvN.js";import{_ as F}from"./Alert-D6W754U8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"flex justify-between items-center"},J={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8"},Q={class:"flex items-center space-x-4 mb-6"},U={class:"flex-1 relative"},O=["placeholder"],q={class:"flex justify-center mb-8"},G={class:"flex space-x-2 bg-gray-100 p-1 rounded-xl"},I=["onClick"],K={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={key:0,class:"bg-white p-8 rounded-lg shadow-md text-center"},Y={class:"text-gray-500 text-lg"},Z={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},ee={class:"relative"},te=["src","alt"],se={key:1,class:"w-full h-44 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center"},oe={class:"p-4 space-y-3"},re={class:"text-xl font-bold text-gray-800"},ne={class:"bg-gradient-to-r from-indigo-50 to-purple-50 p-3 rounded-lg"},ie={class:"flex items-center"},ae={class:"text-base font-bold text-indigo-900"},le={class:"grid grid-cols-2 gap-3"},de={class:"bg-gray-50 p-3 rounded-lg"},ue={class:"text-sm font-bold text-gray-900 mt-1"},ce={class:"bg-gray-50 p-3 rounded-lg"},ge={class:"text-sm font-bold text-gray-900 mt-1"},pe={class:"flex items-center text-sm text-gray-600 pt-2"},me={class:"text-xs"},xe={class:"flex justify-end space-x-2 pt-2"},_e={__name:"indexRaffle",setup(he){const h=T(),a=h.props.raffles,l=d("ongoing"),j=d(!1),S=d(""),D=["ongoing","pending","finished"],V=s=>{if(!s)return"Sin fecha";const t=new Date(s);return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),t.toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"})},A=s=>{const t=new Date,o=new Date(s.start_date),g=new Date(s.end_date);return t<o?"pending":t>g?"finished":"ongoing"},p=d(""),c=d("title"),v=N(()=>a?a.filter(s=>{const t=s.status===l.value,o=p.value.toLowerCase(),g=c.value==="title"?s.title.toLowerCase().includes(o):s.prize.toLowerCase().includes(o);return t&&g}).sort((s,t)=>new Date(t.created_at)-new Date(s.created_at)):[]);f(()=>h.props.raffles,s=>{s&&B.get(route("raffles.index"),{},{preserveState:!0,preserveScroll:!0,only:["raffles"]})}),f(a,()=>{a==null||a.forEach(s=>{const t=A(s);s.status!==t&&B.put(route("raffles.update",s.id),{...s,status:t})})},{deep:!0});const w=s=>{switch(s){case"ongoing":return"En Juego";case"pending":return"Pendiente";case"finished":return"Finalizado";default:return s}},H=s=>{switch(s){case"ongoing":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"finished":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=s=>{l.value=s};return(s,t)=>(r(),m($,{title:"Rifa"},{header:u(()=>[e("div",P,[t[3]||(t[3]=e("h2",{class:"font-semibold text-2xl text-gray-800 leading-tight"}," Rifas ",-1)),y(x,{href:s.route("raffles.create"),class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold text-sm uppercase tracking-wider hover:from-indigo-700 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow-lg"},{default:u(()=>t[2]||(t[2]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),_(" Crear Rifa ")])),_:1},8,["href"])])]),default:u(()=>[j.value?(r(),m(F,{key:0,message:S.value,type:"Ã‰xito"},null,8,["message"])):k("",!0),e("div",J,[e("div",Q,[e("div",U,[b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o),type:"text",placeholder:c.value==="title"?"Buscar por nombre...":"Buscar por premio...",class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm"},null,8,O),[[E,p.value]]),t[4]||(t[4]=e("svg",{class:"absolute right-3 top-3 h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>c.value=o),class:"px-8 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm"},t[5]||(t[5]=[e("option",{value:"title"},"Buscar por nombre",-1),e("option",{value:"prize"},"Buscar por premio",-1)]),512),[[R,c.value]])]),e("div",q,[e("nav",G,[(r(),i(C,null,M(D,o=>e("button",{key:o,onClick:g=>L(o),class:z(["px-6 py-2.5 rounded-lg font-medium text-sm transition-all duration-200",[l.value===o?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"]])},n(w(o)),11,I)),64))])])]),e("div",K,[e("div",W,[v.value.length===0?(r(),i("div",X,[t[6]||(t[6]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 14h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",Y,n(l.value==="ongoing"?"No hay rifas en juego":l.value==="pending"?"No hay rifas pendientes":"No hay rifas finalizadas"),1)])):(r(),i("div",Z,[(r(!0),i(C,null,M(v.value,o=>(r(),i("div",{key:o.id,class:"bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1"},[e("div",ee,[o.url_image?(r(),i("img",{key:0,src:o.url_image,alt:o.title,class:"w-full h-44 object-cover"},null,8,te)):(r(),i("div",se,t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})],-1)]))),e("span",{class:z([H(o.status),"absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold shadow-md"])},n(w(o.status)),3)]),e("div",oe,[e("h3",re,n(o.title),1),e("div",ne,[e("div",ie,[t[9]||(t[9]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-indigo-600 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 11.25v8.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 109.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1114.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})],-1)),e("div",null,[t[8]||(t[8]=e("p",{class:"text-xs text-indigo-600 font-medium"},"Premio",-1)),e("p",ae,n(o.prize),1)])])]),e("div",le,[e("div",de,[t[10]||(t[10]=e("div",{class:"flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})]),e("p",{class:"text-xs text-gray-600"},"Boletos")],-1)),e("p",ue,n(o.tickets_sold)+"/"+n(o.total_tickets),1)]),e("div",ce,[t[11]||(t[11]=e("div",{class:"flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("p",{class:"text-xs text-gray-600"},"Precio")],-1)),e("p",ge,"$"+n(o.price_tickets),1)])]),e("div",pe,[t[12]||(t[12]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})],-1)),e("span",me,"Juega: "+n(V(o.end_date)),1)]),e("div",xe,[y(x,{href:s.route("raffles.edit",o.id),class:"text-sm px-3 py-1.5 bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100"},{default:u(()=>t[13]||(t[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])),_:2},1032,["href"]),o.status==="ongoing"?(r(),m(x,{key:0,href:s.route("tickets.create",{raffle_id:o.id}),class:"text-sm px-4 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700"},{default:u(()=>t[14]||(t[14]=[_(" Comprar ")])),_:2},1032,["href"])):k("",!0)])])]))),128))]))])])]),_:1}))}};export{_e as default};
