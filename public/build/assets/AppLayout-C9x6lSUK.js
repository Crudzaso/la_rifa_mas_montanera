import{Q as C,g as b,M as j,o as l,f as d,n as h,a as t,h as k,t as v,k as S,c as w,w as f,u as m,m as x,d as y,r as g,s as M,C as A,N as $,e as L,D as B,b as p,E as N,O as P,F,j as E,i as _,B as U,P as D,Z as V}from"./app-CsOBiv3L.js";import{l as I}from"./logo-BuEJ4M-s.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{F as O}from"./Footer-DBLmdsMa.js";const T={class:"max-w-screen-xl mx-auto py-2 px-3 sm:px-6 lg:px-8"},q={class:"flex items-center justify-between flex-wrap"},H={class:"w-0 flex-1 flex items-center min-w-0"},Q={key:0,class:"size-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Z={key:1,class:"size-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},G={class:"ms-3 font-medium text-sm text-white truncate"},J={class:"shrink-0 sm:ms-3"},K={__name:"Banner",setup(a){const i=C(),s=b(!0),o=b("success"),u=b("");return j(async()=>{var r,e;o.value=((r=i.props.jetstream.flash)==null?void 0:r.bannerStyle)||"success",u.value=((e=i.props.jetstream.flash)==null?void 0:e.banner)||"",s.value=!0}),(r,e)=>(l(),d("div",null,[s.value&&u.value?(l(),d("div",{key:0,class:h({"bg-indigo-500":o.value=="success","bg-red-700":o.value=="danger"})},[t("div",T,[t("div",q,[t("div",H,[t("span",{class:h(["flex p-2 rounded-lg",{"bg-indigo-600":o.value=="success","bg-red-600":o.value=="danger"}])},[o.value=="success"?(l(),d("svg",Q,e[1]||(e[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):k("",!0),o.value=="danger"?(l(),d("svg",Z,e[2]||(e[2]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)]))):k("",!0)],2),t("p",G,v(u.value),1)]),t("div",J,[t("button",{type:"button",class:h(["-me-1 flex p-2 rounded-md focus:outline-none sm:-me-2 transition",{"hover:bg-indigo-600 focus:bg-indigo-600":o.value=="success","hover:bg-red-600 focus:bg-red-600":o.value=="danger"}]),"aria-label":"Dismiss",onClick:e[0]||(e[0]=S(n=>s.value=!1,["prevent"]))},e[3]||(e[3]=[t("svg",{class:"size-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),2)])])])],2)):k("",!0)]))}},W=["src"],X={__name:"LogoNavBar",props:{colorClass:{type:String,default:"text-[#4F772D]"},textColorClass:{type:String,default:"text-[#31572C]"}},setup(a){return(i,s)=>(l(),w(m(x),{href:i.route("raffles.index"),class:"flex items-center group hover:opacity-90 transition-all duration-200"},{default:f(()=>[t("img",{src:m(I),alt:"Logo La Rifa MontaÃ±era",class:"w-20 h-18 object-contain transform group-hover:scale-105 transition-transform duration-200"},null,8,W)]),_:1},8,["href"]))}},Y={class:"relative z-10 flex items-center"},ee={__name:"NavLink",props:{href:String,active:Boolean},setup(a){const i=a,s=y(()=>i.active?"relative inline-flex items-center px-4 py-2 text-base font-montserrat font-semibold text-[#132A13] group overflow-hidden transform hover:scale-102 transition-all duration-300":"relative inline-flex items-center px-4 py-2 text-base font-montserrat font-medium text-[#31572C]/80 group overflow-hidden transform hover:scale-102 transition-all duration-300");return(o,u)=>(l(),w(m(x),{href:a.href,class:h(s.value)},{default:f(()=>[t("span",Y,[g(o.$slots,"default",{},void 0,!0),t("div",{class:h(["ml-2 w-1.5 h-1.5 rounded-full transition-all duration-300 transform",a.active?"bg-[#4F772D] scale-100":"bg-[#4F772D]/30 scale-0 group-hover:scale-100"])},null,2)]),t("div",{class:h(["absolute inset-0 transition-all duration-300",a.active?"bg-gradient-to-r from-[#ECF39E]/20 to-transparent":"bg-gradient-to-r from-[#ECF39E]/0 to-transparent group-hover:from-[#ECF39E]/10"])},null,2)]),_:3},8,["href","class"]))}},te=z(ee,[["__scopeId","data-v-23d5a894"]]),se={class:"relative"},re={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:Array,default:()=>["py-1","bg-white"]}},setup(a){const i=a;let s=b(!1);const o=e=>{s.value&&e.key==="Escape"&&(s.value=!1)};M(()=>document.addEventListener("keydown",o)),A(()=>document.removeEventListener("keydown",o));const u=y(()=>({48:"w-48"})[i.width.toString()]),r=y(()=>i.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":i.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top");return(e,n)=>(l(),d("div",se,[t("div",{onClick:n[0]||(n[0]=c=>$(s)?s.value=!m(s):s=!m(s))},[g(e.$slots,"trigger")]),L(t("div",{class:"fixed inset-0 z-40",onClick:n[1]||(n[1]=c=>$(s)?s.value=!1:s=!1)},null,512),[[B,m(s)]]),p(N,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:f(()=>[L(t("div",{class:h(["absolute z-50 mt-2 rounded-md shadow-lg",[u.value,r.value]]),style:{display:"none"},onClick:n[2]||(n[2]=c=>$(s)?s.value=!1:s=!1)},[t("div",{class:h(["rounded-md ring-1 ring-black ring-opacity-5",a.contentClasses])},[g(e.$slots,"content")],2)],2),[[B,m(s)]])]),_:3})]))}},oe={key:0,type:"submit",class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},ne=["href"],R={__name:"DropdownLink",props:{href:String,as:String},setup(a){return(i,s)=>(l(),d("div",null,[a.as=="button"?(l(),d("button",oe,[g(i.$slots,"default")])):a.as=="a"?(l(),d("a",{key:1,href:a.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},[g(i.$slots,"default")],8,ne)):(l(),w(m(x),{key:2,href:a.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},{default:f(()=>[g(i.$slots,"default")]),_:3},8,["href"]))]))}},ae={class:"sticky top-0 z-50 shadow-lg"},ie={class:"relative z-20"},le={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-10"},ue={class:"flex justify-between h-28"},de={class:"flex items-center space-x-6"},ce={class:"flex items-center space-x-4"},fe={key:0,class:"relative group"},me={class:"absolute left-0 mt-2 w-48 rounded-xl bg-white/80 backdrop-blur-sm shadow-lg border border-[#4F772D]/20 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"},pe={class:"py-1"},ge={class:"flex items-center"},he={class:"flex items-center space-x-2 text-sm font-medium text-[#31572C] hover:bg-[#4F772D]/10 transition-all duration-200 rounded-lg px-4 py-2"},ve={class:"w-8 h-8 rounded-full bg-[#4F772D] flex items-center justify-center text-white font-semibold"},xe={class:"ml-2"},be={__name:"NavBar",props:{auth:{type:Object,required:!0}},setup(a){const i=P("hasRole"),s=y(()=>{const r=[{name:"Rifas",route:"raffles.index",submenu:i(["admin","organizador"])?[{name:"Ver Rifas",route:"raffles.index"},{name:"Crear Rifa",route:"raffles.create"}]:null},{name:"Resultado loterias",route:"lottery"},{name:"Boletos",route:"tickets.index"}];return i("admin")&&r.push({name:"Usuarios",route:"users.index",submenu:[{name:"Ver Usuarios",route:"users.index"},{name:"Crear Usuario",route:"users.create"}]}),r}),o=r=>{const e=r.split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():e[0][0].toUpperCase()},u=()=>{U.post(route("logout"))};return(r,e)=>(l(),d("nav",ae,[e[4]||(e[4]=t("div",{class:"absolute inset-0 bg-gradient w-full"},[t("div",{class:"mountain-bg"})],-1)),t("div",ie,[t("div",le,[t("div",ue,[t("div",de,[p(m(x),{href:r.route("raffles.index")},{default:f(()=>[p(X,{colorClass:"text-[#4F772D]",textColorClass:"text-[#31572C]",class:"py-4"})]),_:1},8,["href"]),t("div",ce,[(l(!0),d(F,null,E(s.value,n=>(l(),d(F,{key:n.route},[n.submenu?(l(),d("div",fe,[p(m(x),{href:r.route(n.route),class:"flex items-center space-x-1 px-4 py-2 rounded-lg text-[#31572C] hover:bg-[#4F772D]/10 transition-all duration-200"},{default:f(()=>[t("span",null,v(n.name),1),e[0]||(e[0]=t("svg",{class:"w-4 h-4 transition-transform duration-200 group-hover:rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),_:2},1032,["href"]),t("div",me,[t("div",pe,[(l(!0),d(F,null,E(n.submenu,c=>(l(),w(m(x),{key:c.route,href:r.route(c.route),class:"block px-4 py-2 text-sm text-[#31572C] hover:bg-[#4F772D]/10"},{default:f(()=>[_(v(c.name),1)]),_:2},1032,["href"]))),128))])])])):(l(),w(te,{key:1,href:r.route(n.route),active:r.route().current(n.route),class:"px-4 py-2 rounded-lg text-[#31572C] hover:bg-[#4F772D]/10"},{default:f(()=>[_(v(n.name),1)]),_:2},1032,["href","active"]))],64))),128))])]),t("div",ge,[p(re,{align:"right",width:"48"},{trigger:f(()=>[t("button",he,[t("div",ve,v(o(a.auth.user.name)),1),t("span",xe,v(a.auth.user.name),1),e[1]||(e[1]=t("svg",{class:"fill-current h-4 w-4 ml-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])]),content:f(()=>[p(R,{href:r.route("profile.show")},{default:f(()=>e[2]||(e[2]=[_(" Perfil ")])),_:1},8,["href"]),t("form",{onSubmit:S(u,["prevent"])},[p(R,{as:"button"},{default:f(()=>e[3]||(e[3]=[_(" Cerrar SesiÃ³n ")])),_:1})],32)]),_:1})])])])])]))}},we=z(be,[["__scopeId","data-v-b058c715"]]);function ye(){return{hasRole:s=>{var e,n;const o=(n=(e=C().props.auth)==null?void 0:e.user)==null?void 0:n.roles;if(!o)return!1;const u=Array.isArray(s)?s:[s],r=o.map(c=>c.name);return u.some(c=>r.includes(c))},hasPermission:s=>{var r,e;const o=(e=(r=C().props.auth)==null?void 0:r.user)==null?void 0:e.roles;if(!o)return!1;const u=Array.isArray(s)?s:[s];return o.some(n=>u.some(c=>n.permissions.includes(c)))}}}const _e={class:"flex flex-col min-h-screen bg-gradient-to-br from-[#ECF39E]/60 via-white to-[#90A955]"},ke={class:"flex-grow"},Ce={key:0,class:"bg-gradient-to-r from-[#90A955]/40 to-[#edf593]/80 backdrop-blur-sm shadow-md border-b border-[#4F772D]/20"},$e={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},Fe={class:"min-h-screen px-2 sm:px-4 md:px-0"},Re={__name:"AppLayout",props:{title:String},setup(a){const{hasRole:i,hasPermission:s}=ye(),o=C(),u=y(()=>{var e;const r=(e=o.props.auth)==null?void 0:e.user;return!r||!r.roles?[]:r.roles.flatMap(n=>n.permissions||[])});return D("userPermissions",u),D("hasRole",i),D("hasPermission",s),b(!1),(r,e)=>(l(),d("div",_e,[p(m(V),{title:a.title},null,8,["title"]),p(K),t("div",ke,[p(we,{auth:r.$page.props.auth,"user-permissions":u.value},null,8,["auth","user-permissions"]),r.$slots.header?(l(),d("header",Ce,[t("div",$e,[g(r.$slots,"header")])])):k("",!0),t("main",Fe,[g(r.$slots,"default")])]),g(r.$slots,"footer",{},()=>[p(O)])]))}};export{te as L,Re as _,ye as u};
